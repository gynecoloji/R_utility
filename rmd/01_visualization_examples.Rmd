---
title: "R Utility Functions"
output:
  html_document:
    df_print: paged
---

# In-built mtcars dataset will be used for visualization dataset. (a glimpse of the dataset)

```{r}
library(knitr)
library(ggplot2)
data("mtcars")
kable(mtcars, caption = "Preview of the dataset")

```

# Selection of colors for categorical and continous variables
 - categorical variables
    - general use
    - advanced use
 - continuous variables
    - general use
    
### categorical variables

```{r}
source("../R/ggplot2_utils/colors_utils.R")

# order the categorical variables
mtcars$cyl = factor(mtcars$cyl, levels = c(4,6,8))
n_cyl = length(levels(mtcars$cyl))

# selection of colors based on different parameters
colors = get_categorical_colors(n = n_cyl,
                                method = 'auto',
                                colorblind_safe = TRUE)
names(colors) = levels(mtcars$cyl)
preview_colors(colors, labels = names(colors))
ggplot(mtcars, aes(x = mpg, y = wt, color = factor(cyl))) +
    geom_point(size = 3) +
    scale_color_manual(values = colors) +
    theme_minimal()


colors = get_categorical_colors(n = n_cyl,
                                method = 'brewer',
                                palette = 'Dark2')
names(colors) = levels(mtcars$cyl)
preview_colors(colors, labels = names(colors))
ggplot(mtcars, aes(x = mpg, y = wt, color = factor(cyl))) +
    geom_point(size = 3) +
    scale_color_manual(values = colors) +
    theme_minimal()



colors = get_categorical_colors(n = 20,
                                method = 'auto')
preview_colors(colors)



```



```{r}
source("../R/ggplot2_utils/colors_utils.R")

# order the categorical variables
mtcars$brand = rownames(mtcars)
mtcars$brand = factor(mtcars$brand)
n_brand = length(levels(mtcars$brand))

# selection of colors based on different parameters
colors = get_publication_colors(n = n_brand,
                                shuffle = TRUE)
names(colors) = levels(mtcars$brand)
preview_colors(colors, labels = names(colors))
ggplot(mtcars, aes(x = mpg, y = wt, color = factor(brand))) +
    geom_point(size = 3) +
    scale_color_manual(values = colors) +
    theme_minimal()

ggplot(mtcars, aes(x = mpg, y = wt, color = factor(brand))) +
    geom_point(size = 3) +
    scale_color_publication() +
    theme_minimal() +
    labs(title = "Publication-Quality Colors")



```

### continous variables

```{r}
source("../R/ggplot2_utils/colors_utils.R")

show_continuous_palettes("publication")
colors = get_continuous_colors(method = "publication", palette = "nature_heatmap")

preview_continuous_colors(colors, values = seq(-1, 1, length.out = 100), 
                          title = "Diverging Scale")
```
